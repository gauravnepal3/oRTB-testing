# Fan-out
fanout.count=5
fanout.totalTimeoutMs=300
external.targets=http://127.0.0.1:9100/bid,http://127.0.0.1:9101/bid,http://127.0.0.1:9102/bid,http://127.0.0.1:9103/bid,http://127.0.0.1:9104/bid

# Immediate ACK
auction.immediateAck=true

# Kafka (non-blocking path)
kafka.bootstrap=localhost:9092
kafka.acks=0
kafka.lingerMs=1
kafka.batchBytes=524288
kafka.compression=lz4

# ClickHouse
clickhouse.url=jdbc:ch://localhost:8123/default
clickhouse.user=default
clickhouse.password=topSecretPassword
clickhouse.sinkBatch=5000


# Spring Tomcat (ingress is very cheap if you immediate-ack)
server.tomcat.max-threads=200
server.tomcat.accept-count=10000
server.tomcat.max-connections=10000

spring.threads.virtual.enabled=true
# capture up to 64KB of upstream body into Kafka
# keep a small but non-zero capture/trim budget
resp.max.bytes=256
# application.properties (or env as -Dkey=value)
netty.pool.acquireTimeoutMs=150       # was 2 ? 150ms (or 200)
netty.pool.maxPerHost=2000
netty.pool.maxPending=50000
netty.connect.ms=100
netty.client.aggMaxBytes=262144